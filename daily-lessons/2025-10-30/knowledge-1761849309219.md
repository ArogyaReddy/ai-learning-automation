## Learning Objective: Automate Employee Onboarding using Playwright, Javascript, and Cucumber

Today, you will learn to leverage Playwright, Javascript, and Cucumber to automate the employee onboarding process within a hypothetical ADP-like payroll system, focusing on account setup, data validation, and basic navigation. 

## Real-World Scenario:

* **Scenario:** You are tasked with automating the onboarding process for new employees within a hypothetical payroll system. 

* **Requirements:**
    * Open the "New Hire" portal
    * Enter employee data (name, address, contact information)
    * Verify the entered data is reflected correctly
    * Select a payroll processing method
    * Submit the onboarding form 
    * Verify a confirmation message is displayed

## Code Implementation:

```javascript
const { chromium } = require('playwright');

async function runAutomatingOnboarding() {
  const browser = await chromium.launch({ headless: false });
  const page = await browser.newPage();

  await page.goto('http://localhost:3000/onboarding'); // Replace with the actual URL

  // Enter employee data
  await page.type('input[name="employeeName"]', 'John Doe');
  await page.type('input[name="address"]', '123 Main St');
  await page.type('input[name="email"]', 'john.doe@example.com');

  // Select payroll method
  await page.selectOption('select[name="payMethod"]', 'Direct Deposit');

  // Submit the form
  await page.click('button[type="submit"]');

  // Verify confirmation message
  const confirmationMessage = await page.textContent('div.confirmation'); 
  console.log(`Confirmation Message: ${confirmationMessage}`);  

  await browser.close();
}

runAutomatingOnboarding();
```

**Note:** Replace placeholder  `http://localhost:3000/onboarding` with the actual URL of your ADP-like payroll system's onboarding page.

## Step-by-Step Execution:

1. Install Playwright: `npm install playwright`
2. Install additional dependencies: `npm install cucumber`
3. Replace placeholder URLs and selectors with real values.
4. Run the script: `node onboarding_automation.js` 

## Pro Tips:

* **Handling Shadow DOM:** Use Playwright's `shadowRoot` API to access elements within shadow DOM structures:
   ```javascript
   const shadowRoot = await page.$eval('some-element', root => root.shadowRoot);
   await shadowRoot.locator('some-shadow-element').click();
   ```
* **Implicit Waits:** Implement implicit waits to handle dynamic content loading, preventing unexpected errors. 
   ```javascript
   await page.setDefaultTimeout(30000); // Set default timeout to 30 seconds
   ```
* **Data-Driven Testing (Cucumber):** Utilize Cucumber to create feature files describing user workflows and integrate the Playwright code into your tests for robust automation.

* **Test Environments:** Set up different environments (development, staging, production) for testing with specific URLs and configurations.

## Practice Challenge:

* **Enhance the code:** Add input validation checks, error handling, and data-driven testing using Cucumber.
* **Automate task:** Add functionality to upload a new hire's documents, like a W-4 form, into the system.

## Next Steps:

* **Advanced Navigation:** Explore using Playwright's API to handle complex navigation scenarios, such as multi-step forms and dynamic menu structures.
* **Integration:** Learn about integrating Playwright with CI/CD pipelines for continuous testing and deployment.
* **Performance Monitoring:**  Implement performance metrics and analyze test execution times to identify and optimize areas for improvement.



