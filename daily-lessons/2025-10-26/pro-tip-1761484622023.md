

## Lesson: Automating ADP Onboarding Flow with Playwright & TypeScript

**1. Learning Objective:**

Today you'll learn to automate a user onboarding workflow within ADP Onboarding using Playwright and TypeScript, including navigating menus, interacting with forms, and handling shadow DOM elements.

**2. Real-World Scenario:**

You need to automate the process of onboarding a new employee in ADP Onboarding. This involves:

* Navigating to the onboarding portal.
* Logging in with a specific user's credentials.
* Filling out the employee information form.
* Uploading required documents.
* Completing the onboarding checklist.

**3. Code Implementation:**

```typescript
import { chromium, PlaywrightTestConfig } from "playwright";
import { Given, Then, When } from "cucumber";

let page: Page;

const config: PlaywrightTestConfig = {
  // ... your playwright configuration ...
};

async function navigateToOnboarding() {
  await page.goto("https://www.adp.com/onboarding/"); // Replace with actual ADP Onboarding URL
}

async function login(username: string, password: string) {
  await page.type("input[name='username']", username);
  await page.type("input[name='password']", password);
  await page.click("button[type='submit']");
}

async function fillForm(data: { name: string; email: string; phone: string }) {
  // Find forms elements using relevant locators (e.g., selectors, IDs, XPath)
  await page.type("input[name='name']", data.name);
  await page.type("input[name='email']", data.email);
  await page.type("input[name='phone']", data.phone);
  // ... more form field interactions ...
}

async function uploadDocument(filePath: string) {
  // Interacting with the document upload field (e.g., drag and drop, input file path)
  // Using shadow DOM traversal if necessary
}

async function completeChecklist() {
  // Identify checklist items and interact with them accordingly
}

Given("I am on the ADP onboarding portal", async () => {
  page = await chromium.launch({ headless: "new" }).newPage();
  await navigateToOnboarding();
});

When("I log in with credentials {string} and {string}", async (username, password) => {
  await login(username, password);
});

When("I fill the employee information form with {string}, {string}, {string}", async (name, email, phone) => {
  await fillForm({ name, email, phone });
});

When("I upload {string} as the required document", async (filePath) => {
  await uploadDocument(filePath);
});

When("I complete the onboarding checklist", async () => {
  await completeChecklist();
});

Then("the onboarding process should be successfully completed", async () => {
  // Assertions to verify successful completion (e.g., confirmation message)
});

```

**4. Step-by-Step Execution:**

1. **Install Dependencies:**

```
npm install playwright @cucumber/cucumber playwright-core
```

2. **Create Feature File:**

Create a feature file (e.g., `onboarding.feature`) with your scenario described in Gherkin syntax.

3. **Run Tests:**

```
npx cucumber onboarding.feature
```

**5. Pro Tips:**

* **Shadow DOM:** Use `shadowRoot` to access elements within shadow DOM for complex components.
* **Locators:** Use a combination of selectors, IDs and XPath for robust and failure-proof element identification.
* **Assertions:** Implement robust assertions to validate expected outcomes throughout the automation flow.
* **Data-Driven Testing:** Leverage data files or external variables to parameterize your data for efficient testing of various scenarios.
* **Page Objects:** Consider implementing page object patterns for better code organization and reusability.
* **Error Handling:** Add error handling and logging to gracefully handle unexpected situations and improve debugging.

**6. Practice Challenge:**

Modify the code to:

* Handle dynamic date inputs (e.g., using calendars).
* Verify specific confirmation messages after each form submission.
* Navigate between different tabs or sections within the onboarding process.

**7. Next Steps:**


* Explore advanced Playwright features for handling specific browser interactions (e.g., cookies, multiple windows, JavaScript execution).
* Investigate integration with other tools for reporting, CI/CD pipelines, and test management.
* Explore advanced automation strategies for performance testing, regression testing, and end-to-end testing of complex ADP workflows involving multiple systems.


