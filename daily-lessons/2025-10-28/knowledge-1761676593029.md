

## Automation Architect Lesson: Mastering ADP RUN Onboarding with Playwright 

**Learning Objective:** Today we will master how to automate the ADP RUN Onboarding process using Playwright, focusing on locating elements, handling dynamic content, and effectively interacting with form fields.

**Real-World Scenario:** Imagine you're tasked with automating the onboarding process for new hires at a large company using ADP RUN Onboarding. This involves simulating a user flow, filling out necessary forms, submitting information, and verifying successful completion. 

**Code Implementation (JavaScript with Playwright):**

```javascript
const { chromium } = require('playwright');

async function autoOnboard(username, password) {
  const browser = await chromium.launch(); 
  const page = await browser.newPage();
  
  await page.goto('https://your-adp-run-url'); 
  await page.fill('input[name="username"]', username);
  await page.fill('input[name="password"]', password);
  await page.click('button[type="submit"]');

  //Dynamic content handling - Example: Waiting for element to appear
  await page.waitForSelector('.employee-info-form'); 

  //Filling out form fields
  await page.fill('input[name="firstName"]', 'John');
  await page.fill('input[name="lastName"]', 'Doe');
  // ... fill in other form fields

  //Submitting the form
  await page.click('button[type="submit"]');

  //Verifying successful onboarding
  await page.waitForSelector('.onboarding-complete'); 
  console.log('Onboarding successful!');

  await browser.close();
}

autoOnboard('your_username', 'your_password');  

```

**Step-by-Step Execution:**

1. **Install Playwright:** `npm install playwright`
2. **Replace placeholders:** Update URLs and inputs with your specific ADP environment details.
3. **Run the script:** `node your_script_name.js`

**Pro Tips:**

* **Locators:**  Use robust locators like  `data-test-id` when available, or a combination of `name`, `id`, and `class` for more reliable element selection.
* **Dynamic content:** Use `waitForSelector` or `expect` with custom assertions to handle elements that appear after dynamic rendering.
* **Error handling:** Implement `try-catch` blocks to gracefully handle unexpected errors and prevent script failures.
* **Screenshots:**  Utilize Playwright's screenshotting capabilities to capture visual snapshots of critical stages for debugging.
* **Page Observability:** Leverage Playwright's introspect API to log and analyze element properties, network requests, and other page insights.

**Practice Challenge:**

1. **Automate multiple user onboarding scenarios:**  

   -  Create separate functions for different user roles (employee, manager) with varying form inputs.

2.  **Implement file uploads:**

   -  Add functionality to upload documents like ID cards or employment contracts.

3. **Handle error cases:**

   - Simulate errors in form input and test how your script responds and handles these scenarios.

**Next Steps:**

*  Explore Playwright's API for advanced features like network interception, multiple browser instances, and cross-browser testing.
*  Integrate your Playwright automation into a CI/CD pipeline for continuous testing and deployment.
* Learn about Test Data Management best practices for ensuring data security and test case reusability.
*  Dive deeper into the ADP RUN Onboarding API for advanced automation possibilities.




