

## Learning Objective:

Master the fundamentals of using Playwright with JavaScript to automate web application interactions, specifically focusing on data extraction, input manipulation, and handling dynamic elements commonly found in payroll and HR systems.

## Real-World Scenario:

Imagine you're automating the process of onboarding a new employee in ADP RUN. This involves:

* **Step 1:**  Filling out the employee's personal information form.
* **Step 2:**  Selecting their job title and department from dropdown menus.
* **Step 3:**  Uploading their tax documents.
* **Step 4:**  Confirming their eligibility for benefits.
* **Step 5:**  Generating a confirmation email to the employee.

By the end of this lesson, you'll have the tools to write Playwright code to automate these tasks, saving valuable time and reducing human error.

## Code Implementation:

```javascript
const { chromium } = require('playwright');

async function automateOnboarding() {
  const browser = await chromium.launch();
  const page = await browser.newPage();
  await page.goto('https://www.adp.com/us/payroll-services/run.aspx'); // Replace with the actual ADP RUN URL

  // Filling out the form
  await page.fill('input[name="firstName"]', 'John');
  await page.fill('input[name="lastName"]', 'Doe');
  
  // Selecting dropdown options
  await page.selectOption('select[name="jobTitle"]', 'Software Engineer');
  await page.selectOption('select[name="department"]', 'Technology');

  // Uploading a file
  await page.setInputFiles('input[type="file"]', 'path/to/tax_document.pdf');

  // Handling checkboxes
  await page.check('input[name="acceptBenefits"]'); 

  // Interacting with buttons
  await page.click('button[type="submit"]');

  await browser.close();
}

automateOnboarding();
```

## Step-by-Step Execution:

1. **Install Playwright:** `npm install playwright`
2. **Install Chromium (or other desired browser):** Follow instructions from [https://playwright.dev/docs/browsers](https://playwright.dev/docs/browsers).
3. **Run the Code:** 
    *  Navigate to the directory containing your script.
    *  execute the command `node your_script_name.js` in your terminal.

## Pro Tips:

* **Shadow DOM:** Use `page.getByRole` and other Playwright selectors to target elements within Shadow DOM.

* **Locators:** 

* **Xpath:** A powerful tool for navigating complex document structures.
* **CSS Selectors:** Ideal for targeting elements based on their styles

* **Robust Testing:**

* **Wait States:**  Employ `page?.waitForSelector` and other waiting mechanisms to ensure elements are loaded before interacting with them.
* **Error Handling:**  Wrap your code in `try...catch` blocks to handle unexpected situations gracefully.

## Practice Challenge:

Modify the code to:

1. Log the full employee information before submitting.
2. Validate that a confirmation message is displayed after submission. 


## Next Steps:

*  Deep dive into Playwright API documentation: [https://playwright.dev/docs/api](https://playwright.dev/docs/api)
*  Learn about advanced Playwright features: screenshots, video recording, network monitoring
* Explore utilizing Playwright for automating client management tasks in ADP, such as:
    * Creating new client profiles
    * Updating client information
    * Retrieving client data

* ** ADP Integration:**  Research ADP's developer documentation and APIs for more sophisticated integrations.


