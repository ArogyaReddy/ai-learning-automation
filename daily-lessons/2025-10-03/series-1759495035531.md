## Lesson: Automating ADP Onboarding with Playwright

**Learning Objective:**

Master the fundamentals of automating ADP onboarding flows using Playwright, JavaScript, and TypeScript.

**Real-World Scenario:**

A client, Acme Corp, wants to automate the onboarding process for new hires in ADP RUN. This includes creating a new employee profile, assigning them to a specific department, and configuring their payroll settings.

**Code Implementation:**

```javascript
// Import necessary Playwright modules.

const { chromium } = require('playwright');

async function automateOnboarding(employeeData) {
  const browser = await chromium.launch();
  const page = await browser.newPage();

  // Navigate to ADP Onboarding Portal 
  await page.goto('https://your-adp-onboarding-url');

  // Login using your client's credentials
  await page.type('[placeholder="Username"]', 'your_username');
  await page.type('[placeholder="Password"]', 'your_password');
  await page.click('button[type="submit"]');

  // Populate employee profile fields
  await page.waitForSelector('input[name="firstName"]');
  await page.type('input[name="firstName"]', employeeData.firstName);
  await page.type('input[name="lastName"]', employeeData.lastName);
  await page.selectOption('select[name="department"]', employeeData.department);

  // Navigate to payroll settings section
  await page.click('a[href*="/payroll"]');

  // Configure payroll settings based on employeeData
  // ...

  // Submit the onboarding form
  await page.click('button[type="submit"]');

  await browser.close();
}

// Example usage
const employeeData = {
  firstName: 'John',
  lastName: 'Doe',
  department: 'Sales'
};

automateOnboarding(employeeData);
```

**Step-by-Step Execution:**

1. Open your terminal and run `npm run start`. This will launch the Playwright server.
2. Execute the `automateOnboarding()` function with your employee data.
3. Observe the browser automation in action.


**Pro Tips:**

* **Shadow DOM handling:** Use `page.query()` or `page.$$eval()` with selectors specific to the shadow DOM to interact with elements within embedded components.
* **Locating elements:** Prioritize reliable strategies like XPath or CSS selector with specific attributes for stable element targeting.

* **Error handling:** Implement robust error handling mechanisms using `try...catch` blocks to gracefully handle potential issues during automation.
* **Parallel testing:** Leverage Playwright's multi-browser support to execute your tests concurrently across different platforms and browsers for comprehensive coverage.

**Practice Challenge:**

1.  Modify the code to handle dynamic elements by using Playwright's waiting mechanisms (e.g., `waitForSelector()`, `waitForNavigation()`) and selectors that target dynamic attributes.
2.  Implement a feature to check the success of the onboarding process by verifying a confirmation message or redirect.

**Next Steps:**

1.  Explore advanced Playwright features like automatic screenshots on failure, element visibility checks, and custom reporting.
2.  Integrate Playwright with your existing testing framework (e.g., Jest, Mocha) and CI/CD pipeline.
3.  Advanced scenarios: Automating payroll updates, employee benefits configuration, and integration with other HR systems.



