

## Lesson: Automating Employee Onboarding with Playwright

**Learning Objective:**

Master the fundamentals of automating employee onboarding flows within ADP's RUN Onboarding platform using Playwright, JavaScript, and TypeScript.

**Real-World Scenario:**

Your client, a mid-size company, wants to streamline its employee onboarding process by automating repetitive tasks like:

* Creating new employee records
* Filling out tax forms (W-4, I-9)
* Accessing benefit enrollment portals
* Onboarding documents review and acknowledgement

**Code Implementation:**

This example focuses on automating the creation of a new employee record in ADP RUN Onboarding.

```javascript
const { chromium } = require('playwright');

async function automateOnboarding() {
  const browser = await chromium.launch();
  const page = await browser.newPage();
  await page.goto('https://runonboarding.adp.com'); // Replace with actual URL

  // Login to ADP RUN Onboarding
  await page.type('input[name="username"]', 'your_username');
  await page.type('input[name="password"]', 'your_password');
  await page.click('button[type="submit"]');

  // Navigate to New Employee Creation
  await page.click('a[href="/onboarding/new-employee"]'); 

  // Fill in employee details
  await page.fill('input[name="firstName"]', 'John');
  await page.fill('input[name="lastName"]', 'Doe');
  // ... Fill other fields (email, hire date, etc.)

  // Submit the form
  await page.click('button[type="submit"]');

  await browser.close();
}

automateOnboarding();
```

**Step-by-Step Execution:**

1. **Install Node.js and npm:** Ensure you have Node.js and npm installed on your system.

2. **Install Playwright:** Run `npm install playwright`.

3. **Replace Placeholders:** Update `your_username`, `your_password`, and the  URL with your actual ADP RUN Onboarding credentials and URL.

4. **Run the code:** Execute the JavaScript file from your terminal using `node yourfilename.js`.

**Pro Tips:**

* **DOM Shadowing:** ADP systems often utilize shadow DOM. To interact with elements within shadow DOM, use `shadowRoot` to access the element's encapsulated DOM: 
    ```javascript
    const shadowRoot = await page.evaluate(() => {
      return document.querySelector('[aria-label="My Shadow Element"]').shadowRoot;
    });
    ```

* **Element Visibility:** Utilize `await page.waitForSelector` with explicit visibility checks to ensure elements are loaded and visible before interacting with them.

* **Error Handling:** Implement robust error handling using `try...catch` blocks to gracefully manage unexpected situations.

* **Stable Locators:** Use unique and stable locators like data attributes or class names that are less prone to changes.

**Practice Challenge:**

1. **Implement Form Validation:** Modify the code to validate the employee data entry fields (e.g., email format, required fields) and ensure form submission only occurs with valid input.

2. **Screenshot on Failure:**

Add a feature to capture a screenshot upon encountering any errors during the onboarding flow.

**Next Steps:**

* Explore advanced Playwright features like:
    * Page navigation using `goto` and `click`
    * Inputting data using `fill` and `type`
    * Handling asynchronous actions with `waitFor` functions
    * Screenshotting and video recording
    * Advanced browser control (e.g., network interception, cookies)
* Automate other onboarding tasks within ADP RUN Onboarding.

Use this lesson as a stepping stone to master automating complex processes within ADP payroll and HR systems.


