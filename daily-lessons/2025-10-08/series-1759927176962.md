## Playwright Lesson: Automating ADP Onboarding with Shadow DOM

**Learning Objective:** Automate the process of an employee onboarding flow within ADP RUN, focusing on navigating shadow DOM elements and data manipulation.

**Real-World Scenario:**

As an automation architect, you're tasked with automating the "New Hire Entry" part of ADP RUN Onboarding. The goal is to create a script that simulates a new employee's data entry, including:

*  Navigating to the "New Hire Entry" section.
*  Entering employee information (name, address, employment type, etc.) into interactive form fields.
*  Mitigating the challenges posed by shadow DOM by accurately locating and interacting with elements.

**Code Implementation (JavaScript/Playwright):**

```javascript
const { chromium } = require('playwright');

async function automateOnboarding(username, password, employeeData) {
  const browser = await chromium.launch({ headless: false });
  const page = await browser.newPage();

  await page.goto('https://www.adp.com/run', { waitUntil: 'domcontentloaded' });

  // Login to ADP RUN
  await page.fill('#username', username);
  await page.fill('#password', password);
  await page.click('#loginBtn'); 

  // Navigate to "New Hire Entry"
  await page.waitForSelector('#newHireNav'); // Assuming this is the selector for the link
  await page.click('#newHireNav');

  // Fill in employee data
  const nameInput = await page.waitForSelector('#name'); // Replace with actual selector
  await nameInput.fill(employeeData['name']);

  // Handling Shadow DOM (example)
  const addressInput = await page.waitForSelector('shadow-root::input[name="address"]');
  await addressInput.fill(employeeData['address']);

  // ... (Add more data fields and shadow DOM handling as needed)

  // Submit the form
  await page.click('#saveButton'); // Replace with actual submit button selector

  await browser.close();
}

// Example usage
automateOnboarding('your_username', 'your_password', {
  'name': 'John Doe',
  'address': '123 Main St',
  // Add other employee data fields
});
```

**Step-by-Step Execution:**

1. Make sure you have Playwright installed (`npm install playwright`).
2. Modify the code with your ADP login credentials and employee data.
3. Replace placeholder selectors (`#username`, `#newHireNav`, etc.) with actual selectors for ADP RUN.
4. Inspect the ADP application and identify the shadow DOM structure to properly locate elements within those shadow roots (e.g., `shadow-root::input[name="address"]`).
5. Run the script: `node your_script.js`

**Pro Tips:**

* Utilize Playwright's `waitForSelector` and `waitForFunction` for robust and reliable waits.
* For more complex shadow DOM structures, explore Playwright's `page.evaluate` to interact with JavaScript functions within the shadow host.
* Leverage Playwright's built-in `screenshot` function to capture visual evidence of your automation's progress for debugging and reporting.
* Employ a headless browser for faster execution and integration with CI/CD pipelines.
* Learn about accessibility testing with Playwright and ensure your automation respects accessibility standards.

**Practice Challenge:**

Modify the code to:

* Handle a dynamically populated dropdown for selecting an employee's job title.
* Input a date into the "Start Date" field.

 **Next Steps:**

*  Integrate with your existing Test Framework (e.g., Cucumber) to build comprehensive test cases for the onboarding flow.
* Explore handling validations and error messages during data entry.
* Expand automation to include other aspects of ADP RUN Onboarding, such as document upload and verification.


