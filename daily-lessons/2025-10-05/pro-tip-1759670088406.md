## Playwright Automation Lesson: Navigating Shadow DOM in ADP RUN Onboarding

**Learning Objective:** This lesson focuses on efficiently navigating and interacting with elements within ADP RUN Onboarding's Shadow DOM using Playwright. You'll learn to locate elements, perform actions, and extract data from elements hidden within Shadow DOM structures.

**Real-World Scenario:** Imagine you're automating the process of onboarding a new employee in ADP RUN Onboarding. You need to fill out various forms within a user-specific shadow DOM structure.

**Code Implementation:**

```javascript
const { chromium } = require('playwright');

async function automateOnboarding(username, password) {
  const browser = await chromium.launch();
  const page = await browser.newPage();

  await page.goto('https://www.adp.com/run-onboarding'); // Replace with actual URL

  // Login to ADP RUN Onboarding
  await page.waitForSelector('input[name="username"]');
  await page.type('input[name="username"]', username);
  await page.type('input[name="password"]', password);
  await page.click('button[type="submit"]');

  // Navigate to the "Employee Information" section
  await page.waitForSelector('nav a[href="/onboarding/employee-info"]');
  await page.click('nav a[href="/onboarding/employee-info"]');

  // Interact with elements within the shadow DOM
  const shadowRoot = await page.$eval('div[role="main"]', (el) => el.shadowRoot); // Assuming shadow DOM is inside 'div[role="main"]'

  // Example: Find and fill the employee name field
  const nameInput = await shadowRoot.$('input[name="firstName"]'); 
  await nameInput.type('John');

  // Example: Extract the welcome message text
  const welcomeMessage = await shadowRoot.$eval('h1', (el) => el.textContent);
  console.log(`Welcome message: ${welcomeMessage}`);

  await browser.close();
}

automateOnboarding('username', 'password'); // Replace with your credentials
```

**Step-by-Step Execution:**

1. Install Playwright: `npm install playwright`
2. Run the code: `node your_script.js`

**Pro Tips:**

* **Inspect the Shadow DOM:** Leverage your browser's DevTools to inspect the Shadow DOM structure and identify specific element selectors.
* **Shadow DOM Delegation:** If multiple shadow DOM instances exist, experiment with delegating events to parent elements for efficient targeting.


* **Custom Playwright Functions:**  Create reusable functions for common tasks within the Shadow DOM, like navigating to specific sections or extracting data.
* **Handle Dynamic Content:** Use Playwright's asynchronous functionality to wait for elements to load and update within the Shadow DOM before interacting with them.


**Practice Challenge:**

Modify the code to:

* Automate filling out other employee information fields in the onboarding process.
* Extract and log the employee's onboarding ID.

**Next Steps:**

* Explore advanced Playwright features for handling complex interactions within Shadow DOM, such as custom events and state management.
* Learn about integrating Playwright with CI/CD pipelines for automated testing of ADP RUN Onboarding workflows.



