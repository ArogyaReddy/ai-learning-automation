## Lesson: Automating Employee Onboarding with Playwright & Shadow DOM

**Learning Objective:** Today, we'll learn to automate employee onboarding flows within ADP RUN Onboarding using Playwright, leveraging JavaScript, TypeScript, and shadow DOM handling.

**Real-World Scenario:** 

Imagine you need to automate the process of creating a new employee profile within ADP RUN Onboarding. This involves selecting the employee type, entering personal information, and configuring benefits.

**Code Implementation:**

```javascript
const { chromium } = require('playwright');

async function automateOnboarding() {
  const browser = await chromium.launch();
  const page = await browser.newPage();

  await page.goto('https://www.adp.com/run-onboarding'); // Replace with your ADP URL

  // Shadow DOM handling - Locate elements within the shadow DOM
  await page.locator(".adp-form-container").shadowRoot().locator("input[name='employeeName']")
    .type('John Doe');

  await page.locator(".adp-form-container").shadowRoot().locator("select[name='employeeType']")
    .selectOption('Full-Time');

  // Handle dynamic elements - locate based on text content
  const benefitsContainer = await page.locator("text=Benefits").closest('.adp-benefits-section');
  const healthInsuranceOption = await benefitsContainer
    .locator("text=Health Insurance").closest('.adp-benefit-option');
  await healthInsuranceOption.click();

  // ...

  await browser.close();
}

automateOnboarding();
```

**Step-by-Step Execution:**

1. **Install Playwright:** `npm install playwright`
2. **Install TypeScript:** `npm install typescript`
3. **Set up TypeScript:** Create a `tsconfig.json` file for TypeScript compilation.
4. **Save the code as a `.ts` file (e.g., onboarding.ts).**
5. **Run the script:** `npx playwright install` followed by `node onboarding.ts`.

**Pro Tips:**

* **Element Locators:** Explore Playwright's robust locator strategies (by text, class name, attribute, etc.) to ensure your script is resilient against website changes.
* **Wait for Elements:** Use `page.waitForSelector()` to ensure elements are present and interactive before interacting with them.
* **Data-Driven Testing:**  Store test data in JSON or CSV files and dynamically feed it into your scripts for increased flexibility.
* **Reporting:** Implement robust error handling and logging to track script execution and identify issues.
* **Playwright Debugging:** Use Playwright's built-in debugger to step through your code and inspect the DOM in real-time.

**Practice Challenge:**

1. Automate the process of selecting a specific benefits package for the new employee.
2. Configure a specific salary and pay schedule within the onboarding flow.

**Next Steps:**

* Explore Playwright's built-in assertions for verifying elements, text content, and attributes.
* Learn about Playwright's visual testing capabilities to ensure UI consistency.
* Research integrating your automation scripts into a CI/CD pipeline for continuous testing.



