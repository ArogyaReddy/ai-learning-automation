## Lesson: Automating ADP RUN Onboarding with Playwright & TypeScript

**Learning Objective:**

* Learn how to automate onboarding flows in ADP RUN using Playwright, TypeScript, and Cucumber for robust and maintainable test automation.

**Real-World Scenario:**

Imagine you're tasked with automating the process of onboarding a new employee in ADP RUN.  You need to:

1. Navigate to the Onboarding section.
2. Select a pre-defined onboarding template.
3. Fill in employee details (name, address, emergency contact, etc.)
4. Upload required documents (resume, W-4 form).
5. Review and submit the completed onboarding package.

**Code Implementation:**

```typescript
import { test, expect } from '@playwright/test';
import { Page } from 'playwright';

// Replace with your actual locators
const onboardingButton = '#onboarding-section-button';
const templateSelector = '.onboarding-template-select';
const nameInput = '#employee-name';
const addressInput = '#employee-address';
const uploadButton = '#document-upload-button';

const addEmployee = async ({ page }: { page: Page }) => {
  await page.goto('https://your-adp-run-url');
  // Locate and click the Onboarding button
  await page.click(onboardingButton);

  // Select the onboarding template
  await page.selectOption(templateSelector, 'New Hire');

  // Fill in employee details
  await page.fill(nameInput, 'John Doe');
  await page.fill(addressInput, '123 Main St, Anytown, USA');

  // Upload resume and W-4 form
  const resumeFile = await page.uploadFile(
    './test-data/resume.pdf'
  );
  await page.click(uploadButton);

  // Submit the onboarding package
  // ...
};

test('Add a new employee', async ({ page }) => {
  await addEmployee({ page });

  // Verify successful onboarding
  
});
```

**Step-by-Step Execution:**

1. **Install Playwright & TypeScript dependencies:** 

   ```bash
   npm install playwright --save-dev
   npm install --save-dev @types/playwright
   ```

2. **Set up your Playwright configuration:**

   ```javascript
   // playwright.config.js
   module.exports = {
     testDir: 'tests',
     use: {
       firefox: {
         channel: 'firefox',
       },
     },
   };
   ```

3. **Create your test file (`tests/onboarding.spec.ts`):**

   Copy the provided code and paste it into your test file. 

4. **Replace the placeholder locators:**

   Find the actual selectors for each element on the ADP RUN Onboarding page and replace the placeholder values in the code. 

5. **Run your tests:**

   ```bash
   npx playwright test
   ```


**Pro Tips:**

* **Shadow DOM Handling:** If your ADP RUN application uses Shadow DOM, you may need to use specific strategies to access its elements. Playwright offers options for traversing the Shadow DOM using `.shadowRoot()`.
* **Data-Driven Testing:** Use data tables in your Cucumber scenarios to easily test different employee details and onboarding templates.
* **Page Object Model:** Encapsulate common interactions with specific pages in separate Page Object classes. 
* **Logging:** Implement detailed logging to track the execution flow and identify potential issues.

**Practice Challenge:**

* **Automate document upload:** Implement the functionality for uploading various document types (W-4, I-9, etc.) in the ADP RUN Onboarding flow. 
* **Test multiple onboarding templates:** Create data-driven scenarios to test different onboarding templates available in ADP RUN. 

**Next Steps:**



* **Integration with CI/CD:** Integrate your Playwright tests into your CI/CD pipeline for continuous testing and automated regression testing.
* **Explore advanced Playwright features:**  
    * Autowait: Define custom waiting strategies for dynamic elements.
    * Wait for specific actions:
    * Handle asynchronous tasks. 
    * Use assertions for robust validation.



Let me know if you'd like to explore any of these elements in more detail!