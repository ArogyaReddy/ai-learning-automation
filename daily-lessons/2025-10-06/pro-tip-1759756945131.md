## Playwright Automation Lesson: Employee Onboarding Form Automation

**Learning Objective:**  Master automating employee onboarding forms within ADP Onboarding using Playwright, Javascript and TypeScript.  You'll learn to handle dynamic elements, shadow DOM, and implement robust locators.

**Real-World Scenario:** Automate the process of entering employee information into the ADP Onboarding platform, simulating the actions a new employee would take to complete their onboarding forms.

**Code Implementation:**

```javascript
const {chromium} = require('playwright');

async function automateOnboarding(formData) {
  const browser = await chromium.launch();
  const page = await browser.newPage();

  await page.goto('https://www.adp.com/onboarding'); // Replace with real ADP Onboarding URL

  // Example: Locate and fill in name field
  const nameInput = await page.locator('//input[@name="employeeName"]'); 
  await nameInput.fill(formData.name); 

  // Example: Handle Shadow DOM for date of birth field
  const dobElement = await page.locator('shadow-root(.//input[@id="dateOfBirth"])');
  await dobElement.fill(formData.dateOfBirth);

  // Example: Select value from a dropdown
  const employmentTypeDropdown = await page.locator('select[name="employmentType"]');
  await employmentTypeDropdown.selectOption('fulltime');


  // ... Add code for handling other fields ...


  // Example: Submit the form
  const submitButton = await page.locator('button[type="submit"]');
  await submitButton.click();

  // Add code for post-submission actions, like checking for success messages

  await browser.close();
}

const onboardingData = {
  name: 'John Doe',
  dateOfBirth: '1990-01-01',
};

automateOnboarding(onboardingData);
```

**Step-by-Step Execution:**

1. **Install Dependencies:** 
   ```bash
   npm install playwright
   ```
2. **Modify URL:** Replace `https://www.adp.com/onboarding` with the actual ADP Onboarding URL.
3. **Adapt Locators:** Modify the locators (e.g., `//input[@name="employeeName"]`) to accurately target elements on the ADP Onboarding page. Use Playwright's developer tools to inspect and identify the correct selectors.
4. **Run the Script:** 
   ```bash
   node your_script_name.js
   ```

**Pro Tips:**

* **Robust Locators:** Avoid relying solely on ID attributes. Utilize combinations of tags, classes, attributes, and text content (e.g., `//button[text()="Submit"]`) for more reliable locators.
* **Shadow DOM:** Understand how to navigate and interact with elements within Shadow DOM using `shadow-root` selectors.
* **Explicit Waits:** Employ Playwright's `waitForSelector` or `waitForURL` functions to ensure elements are loaded before interacting with them, preventing errors.
* **Error Handling:** Implement robust error handling mechanisms (try-catch blocks) to catch unforeseen issues and gracefully handle exceptions.


**Practice Challenge:**

* **Automate Employee Address Input:**  Write code to retrieve an employee's address from a separate data source (e.g., a JSON file) and fill it into the corresponding fields on the ADP Onboarding form.
* **Handling Radio buttons:** Automate selecting a specific radio button option on the onboarding form.

**Next Steps:**

* Learn about data-driven testing with Playwright:  Load test data from files (e.g., JSON or CSV) to automate onboarding for multiple employees.
* Explore Playwright's API for advanced functionalities like screenshots, video recording, and network traffic analysis.


