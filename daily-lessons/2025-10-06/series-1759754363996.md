## Lesson: Automating ADP RUN Onboarding with Playwright 

**Learning Objective:** You'll learn to automate the creation of a new employee profile in ADP RUN Onboarding using Playwright, focusing on element locators, navigating shadow DOM, and handling form submission.

**Real-World Scenario:** Imagine you need to automate the onboarding process for new employees to save time and reduce manual errors. Your task is to write a script that creates a new employee profile in ADP RUN Onboarding, filling in essential information like name, address, and employment details.

**Code Implementation (JavaScript/Playwright):**

```javascript
const {chromium} = require('playwright');

async function automateOnboarding() {
  const browser = await chromium.launch({headless: false});
  const page = await browser.newPage();

  await page.goto('https://your-adp-onboarding-url'); // Replace with your actual URL

  // Handle login (assuming username/password combo)
  await page.type('#username', 'your_username');
  await page.type('#password', 'your_password');
  await page.click('button[type="submit"]');

  // Navigating to the onboarding portal
  await page.waitForNavigation();
  await page.click('a[href="/onboarding"]');

  // Employee Details Form

  // Locate and fill in fields using specific locators
  const nameInput = await page.locator('#employeeName');
  await nameInput.fill('John Doe');

  const addressInput = await page.locator('input[name="address"]');
  await addressInput.fill('123 Main Street');

  // Shadow DOM Example: (adjust selector based on ADP's structure)
  const shadows = await page.$eval('div[data-test-id="employee-details-container"]', (el) => {
    return Array.from(el.shadowRoot.querySelectorAll('input[type="email"]'));
  });
  const emailInput = shadows[0];
  await emailInput.fill('john.doe@example.com');

  await page.click('button[type="submit"]');

  await browser.close();
}

automateOnboarding();
```

**Step-by-Step Execution:**

1. **Install Playwright:** `npm install playwright`
2. **Save Code:** Save the code above as a `.js` file (e.g., `onboarding_automation.js`).
3. **Run:** `node onboarding_automation.js`

**Pro Tips**

* **Robust Locators:** Using specific unique identifiers (`data-test-id`, `aria-label`) whenever possible makes your scripts more resilient to layout changes.
* **Selector Assertions:** Verify that elements are present and visible using `page.waitForSelector` or `page.locator(\*).isVisible()`.
* **Error Handling:** Implement `try...catch` blocks to gracefully handle unexpected interactions.

**Practice Challenge:**

Modify the code to:

*  Automatically select a hire start date from a calendar popup.
* Handle a dropdown menu for selecting the employee's department.
* Take a screenshot of the confirmation page after successful onboarding.

**Next Steps:**

* Explore advanced Playwright features like screenshots, network requests inspection, and testing different browser types.
* Learn about BDD (Behavior Driven Development) using Cucumber with Playwright for creating more structured and maintainable tests.
* Investigate integrating your Playwright scripts with a CI/CD pipeline for automated testing.



