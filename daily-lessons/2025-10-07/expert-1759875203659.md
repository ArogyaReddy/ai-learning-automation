## Playwright Automation for ADP Systems: Onboarding Automation

**1. Learning Objective:** Master the basics of automating ADP Onboarding with Playwright, focusing on interacting with web components and handling dynamic content.

**2. Real-World Scenario:**  A new employee joins your company and needs to be onboarded quickly and efficiently. You want to automate the process of:

* **Logging into the ADP system using employee credentials.**
* **Filling out the employee profile with information from a spreadsheet.**
* **Submitting the onboarding forms electronically.**

**3. Code Implementation:**

```javascript
const { chromium } = require('playwright');
const fs = require("fs");

async function automateOnboarding(username, password, employeeData) {
  const browser = await chromium.launch();
  const page = await browser.newPage();

  // Navigate to ADP Onboarding Page
  await page.goto("https://www.adp.com/onboarding");

  // Login with credentials
  await page.type("#username", username);
  await page.type("#password", password);
  await page.click("button[type='submit']");

  // Fill out employee profile fields
  for (const key in employeeData) {
    const field = await page.locator(`label[for="${key}"]`);
    if (field) {
      await field.evaluate(el => el.click());
      await page.type(`input[name="${key}"]`, employeeData[key]);
    }
  }

  // Submit onboarding forms
  await page.click('button[type="submit"]');

  // Handle potential confirmation or success messages
  await page.waitForSelector("div.success-message");
  const successMessage = await page.$eval("div.success-message", el => el.textContent);
  console.log(`Onboarding successful: ${successMessage}`);

  await browser.close();
}

// Example employee data
const employeeData = {
  firstName: "John",
  lastName: "Doe",
  email: "john.doe@example.com",
  // ... other fields
};

// Call the function with employee credentials and data
automateOnboarding("username", "password", employeeData);
```

**4. Step-by-Step Execution:**

1. **Install Playwright:** `npm install playwright`
2. **Update credentials:** Fill in the `username` and `password` variables with actual ADP credentials.
3. **Prepare employee data:** Create a `employeeData` object containing the necessary information for onboarding.
4. **Run the code:** Execute the code using `node your_script_name.js`. This will:
    * Open the ADP Onboarding page.
    * Log in with the provided credentials.
    * Fill out the ONBOARDING form with the specified data.
    * Submit the form.

**5. Pro Tips:**

* **Locators:** Playwright provides robust locators for finding elements:
    * **IDS:** Use unique IDs for reliable targeting.
    * **CSS Selectors:** Leverage CSS to pinpoint elements.
    * **XPath:** Utilize XPath for more complex element selection.


* **Handling Dynamic Content:**

    * **Page.waitForSelector:** Wait for specific elements to load before interacting with them.
    * **Page.waitForNavigation:** Pause execution after a navigation to ensure the new page is loaded.

* **Shadow DOM:** For elements within custom HTML elements, use `page.locator` to target them correctly within the shadow DOM using the correct selector.

**6. Practice Challenge:**

* **Error Handling:** Add error handling to gracefully handle unexpected scenarios like login failures or form validation issues.

* **Data-Driven Approach:** Instead of hardcoding employee data, read it from a CSV file or database to scale the automation.
* **Test Coverage:** Create test cases to ensure your automation works correctly for various scenarios.

    
**7. Next Steps:**

* **Advanced Automation:** Explore more advanced Playwright features like:
    * **Cookies:** Manage cookies for persistent session handling.
    * **Network Interception:** Modify network requests and responses for complex scenarios.
    * **Geolocation:** Simulate different locations for testing.
* **Continuous Integration:** Integrate your Playwright tests into your CI/CD pipeline for automated testing and deployment.



